(function(global, factory) {
  typeof exports === "object" && typeof module !== "undefined" ? factory(exports, require("@21st-extension/toolbar"), require("react")) : typeof define === "function" && define.amd ? define(["exports", "@21st-extension/toolbar", "react"], factory) : (global = typeof globalThis !== "undefined" ? globalThis : global || self, factory(global.TwentyFirstToolbarReact = {}, global["@21st-extension/toolbar"], global.react));
})(this, function(exports2, toolbar, react) {
  "use strict";
  function TwentyFirstToolbar({
    config,
    enabled = process.env.NODE_ENV === "development"
  }) {
    const isLoaded = react.useRef(false);
    react.useEffect(() => {
      if (isLoaded.current || !enabled) return;
      const success = toolbar.initToolbar(config);
      if (success) {
        isLoaded.current = true;
        return () => {
          const anchor = document.querySelector("stagewise-companion-anchor");
          if (anchor) {
            anchor.remove();
            isLoaded.current = false;
          }
        };
      }
    }, [config, enabled]);
    return null;
  }
  exports2.TwentyFirstToolbar = TwentyFirstToolbar;
  Object.defineProperty(exports2, Symbol.toStringTag, { value: "Module" });
});
