import { initToolbar } from "@21st-extension/toolbar";
import { useRef, useEffect } from "react";
function TwentyFirstToolbar({
  config,
  enabled = process.env.NODE_ENV === "development"
}) {
  const isLoaded = useRef(false);
  useEffect(() => {
    if (isLoaded.current || !enabled) return;
    const success = initToolbar(config);
    if (success) {
      isLoaded.current = true;
      return () => {
        const anchor = document.querySelector("stagewise-companion-anchor");
        if (anchor) {
          anchor.remove();
          isLoaded.current = false;
        }
      };
    }
  }, [config, enabled]);
  return null;
}
export {
  TwentyFirstToolbar
};
